<!DOCTYPE html>
<html>
    <head>
        <title>
            VOCABTAP create user
        </title>
    </head>
    <body>
        <h1>
            VOCABTAP create user
        </h1>
        <button type="button" onclick="create()">
            create user
        </button>
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
        <script>
            function create(){
                // const axios = require('axios/dist/browser/axios.cjs');

                let userNameTag = document.getElementById("user_name")
                let passwordTag = document.getElementById("password")

                var data = JSON.stringify({
                    "name": userNameTag.value,
                    "password": passwordTag.value
                });

                axios.post('http://localhost:8000/api/user', data)
                .then(function (response) {
                    alert("ユーザ登録完了");
                })
                .catch(function (error) {
                    alert("ユーザ登録失敗");
                });
            }
            
        </script>
        <input type="text" id="user_name" name="user_name" 
        required minlength="1" maxlength="20" size="10" />
        <input type="text" id="password" name="password" 
        required minlength="1" maxlength="10" size="20" />
        <br><br>
        <a href="file://wsl.localhost/Ubuntu-22.04/home/ayuki/VocabTap/frontend/login.html">
            login</a>
    </body>
</html>